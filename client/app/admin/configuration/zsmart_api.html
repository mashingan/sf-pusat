<link rel="stylesheet" href="app/admin/admin.css">
<div ng-controller="ConfigurationZsmartAPICtrl" ng-cloak>
  <div ng-include="'components/sidenav/sidenav.html'"></div>
  <md-content class="md-padding" layout-xs="column" layout="row">
    <div flex-xs flex-gt-xs="30" layout="column">
      <md-card>

        <md-card-title class="red-card-title">
          <md-card-title-text>
            <span class="md-headline">Last Activity</span>
          </md-card-title-text>
        </md-card-title>

        <md-card-content>
          <md-list>
            <md-list-item ng-repeat="activity in activities" class="md-3-line">
              <img alt="{{ activity.user }}" ng-src="media/user/{{ activity.avatar }}" class="face" />
                <div class="md-list-item-text">
                  <h3>{{ activity.user }}</h3>
                  <p>Do {{ activity.action }} on {{ activity.modul }} Modul at {{ activity.timestamp }}</p>
                </div>
              <md-divider md-inset ng-if="!$last"></md-divider>
            </md-list-item>
          </md-list>
        </md-card-content>

      </md-card>
    </div>
    <div flex-xs flex-gt-xs="70" layout="column">
      <md-card>
        <md-card-title class="red-card-title">
          <md-card-title-text>
            <span class="md-headline">Zsmart API</span>
          </md-card-title-text>
        </md-card-title>
        <md-card-content>

          <form name="configurationForm" ng-submit="update_configuration(form)">

            <md-input-container class="md-block">
              <label>API URL</label>
              <input required name="api_url" ng-model="api_url">
              <div ng-messages="configurationForm.api_url.$error">
                <div ng-message="required">This is required.</div>
              </div>
            </md-input-container>
            
            <md-input-container class="md-block">
              <label>USER API</label>
              <input required name="user" ng-model="api_user">
              <div ng-messages="configurationForm.user.$error">
                <div ng-message="required">This is required.</div>
              </div>
            </md-input-container>

            <md-input-container class="md-block">
              <label>PASSWORD API</label>
              <input required name="password" type="password" ng-model="api_password">
              <div ng-messages="configurationForm.password.$error">
                <div ng-message="required">This is required.</div>
              </div>
            </md-input-container>

            <md-input-container class="md-block">
              <label>ACTION ID</label>
              <input required name="action_id" ng-model="api_action_id">
              <div ng-messages="configurationForm.action_id.$error">
                <div ng-message="required">This is required.</div>
              </div>
            </md-input-container>

            <div layout="row" layout-align="end">
              <md-button class="md-raised md-warn" type="submit">Save</md-button>
            </div>
          </form>

        </md-card-content>
      </md-card>
    </div>

  </md-content>
</div>
<div ng-include="'components/footer/footer.html'"></div>
